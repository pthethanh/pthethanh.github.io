<!DOCTYPE html><html domain=thefortunedays.com lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href="/img/favicon/favicon-192x192.png?hash=735479e2c4" rel=icon type=image/png><meta content=#ff577d name=theme-color><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name=robots><title>Cancellable Functions</title><meta content="Cancellable Functions" property=og:title><meta content="How to write cancellable functions in Go using context and channel." name=description><meta content="How to write cancellable functions in Go using context and channel." property=og:description><meta content=summary_large_image name=twitter:card><meta content=@phamthethanh108 name=twitter:site><meta content=@phamthethanh108 name=twitter:creator><meta content=https://thefortunedays.com/img/remote/Z1o6V9l.jpg property=og:image><link href=https://thefortunedays.com/articles/go-cancellable-functions/ rel=canonical><meta content=no-referrer-when-downgrade name=referrer><link href=/feed/feed.xml rel=alternate type=application/atom+xml title="The Fortune Days"><link href=/ rel=preconnect crossorigin=""><link href=/fonts/CyberwayRiders.woff2 rel=preload crossorigin="" as=font type=font/woff2><link href=https://fonts.googleapis.com rel=preconnect><link href=https://fonts.gstatic.com rel=preconnect crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel=stylesheet><script async src="/js/min.js?hash=8db32dcb3a" data-cwv-src="/js/web-vitals.js?hash=4a3c7b61e1" defer></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-9X9G2YCR2X"></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-9X9G2YCR2X');</script><script csp-hash="">if (/Mac OS X/.test(navigator.userAgent))document.documentElement.classList.add('apple')</script><style>:root{--primary: #ff577d;--text-color: #f5f5f7;--bg-color: #003062;--nav-bg-color: #ff577d;--nav-text-color: #fff;--nav-text-shadow: #0a9cf5;--footer-bg-color: #091833;--footer-text-color: #999;--footer-text-shadow: #0a9cf5;--heading-text-shadow: #0a9cf5;--main-width: calc(100vw - 3em)
}main img{content-visibility:auto}article *{scroll-margin-top:50px}header nav{position:fixed;padding:.575em 1.5em;background:var(--nav-bg-color);color:var(--nav-text-color);font-weight:200;text-align:right}@media (min-width:37.5em){:root{--main-width: calc(37.5em - 3em)
  }}dialog,share-widget{position:fixed;opacity:.9}share-widget{right:20px;bottom:20px}share-widget div{width:20px;height:20px;background-image:url(/img/share.svg);background-repeat:no-repeat;background-position:center}.apple share-widget div{background-image:url(/img/share-apple.svg)}body,share-widget button{margin:0}share-widget button:active{transform:scale(1.2)}dialog{background-color:#0a9cf5;z-index:1000}#nav{z-index:2;position:relative}#reading-progress,header nav{z-index:1;width:100vw;left:0;top:0}#reading-progress{background-color:var(--primary);position:absolute;bottom:0;transform:translate(-100vw,0);will-change:transform;pointer-events:none}@font-face{font-display:optional;font-family:CyberwayRiders;font-weight:100 900;font-style:oblique 0deg 10deg;src:url(/fonts/CyberwayRiders.woff2) format("woff2");font-display:swap}html{line-height:1.15;-webkit-text-size-adjust:100%;font-size:17.5px}@media (max-width:768px){html{font-size:14px}}pre{font-size:1em}a{background-color:transparent;color:#f9c412;text-decoration:none;color:var(--primary)}strong{font-weight:700}img{border-style:none;max-width:100%;height:auto;margin:0 auto}button,select{font-family:inherit;font-size:100%;line-height:1.15;text-transform:none}button{overflow:visible}select{margin:0}[type=button],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}h1,h3{margin:3rem 0 1.38rem;line-height:1.3}h1{font-size:2.488rem}h3{font-size:1.728rem}body,p,pre{font-size:1rem;line-height:1.6}p,pre{margin-bottom:1.36rem}code,pre{overflow-x:auto}pre{font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace}pre:has(code:not([class])){background:#2d2d2d}pre code:not([class]){color:#ccc;padding:0;overflow-x:scroll}code{border-radius:.3em;color:var(--code);padding:0 .3em;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:90%;background:var(--code-bg)}h1,h3{font-family:var(--font-family)}a:hover{text-decoration:underline}html{font-family:Montserrat,sans-serif;--font-family: "Montserrat", sans-serif
}button,select{border-radius:.3em;max-width:100%}select{margin-bottom:1.5em;display:inline;border:1px solid #595959;padding:.75em}button,button:hover{color:var(--text-color)}button{background:var(--primary);cursor:pointer;display:inline-block;padding:.75em 1.5em;text-align:center;margin:0 .75em 1.5em 0}button:hover{background:var(--primary-dark)}button:not([disabled]){background:#f9c412;color:#181818;background:var(--primary)}button:not([disabled]):hover{background:#ba9005;color:#000;background:var(--primary-dark)}select[multiple]{min-width:15em}*{border:0;box-sizing:border-box}body,header nav a{font-family:var(--font-family)}body{background:var(--bg-color);color:var(--text-color)}header{padding:4em 1.5em 3em;width:37.5em;margin:0 auto;text-align:center;max-width:100%;display:flex;align-items:center;flex-direction:column}header p{margin-top:0}header nav h1{float:left;font-size:inherit;line-height:inherit;margin:0;text-align:left}header nav a{font-weight:700;text-decoration:none;color:var(--nav-text-color);margin-left:1.5em;font-family:CyberwayRiders;text-shadow:0 0 7px #fff,0 0 42px var(--nav-text-shadow)}header nav a:first-of-type{margin-left:auto}header nav a:last-of-type{margin-right:1.5em}main{max-width:70rem;margin:0 auto}footer{background:var(--footer-bg-color);color:var(--footer-text-color);padding:3em;text-align:center}footer>*{margin:1.5em;font-family:CyberwayRiders;text-shadow:0 0 7px #fff,0 0 42px var(--footer-text-shadow)}footer nav a img{vertical-align:middle}footer nav,footer p{font-size:90%}article{max-width:100%;padding:0 1.5em;width:37.5em;margin:0 auto;min-height:100vh}code[class*=language-],pre[class*=language-]{color:#ccc;background:0;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]{padding:0}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment{color:#999}.token.punctuation{color:#ccc}.token.tag{color:#e2777a}.token.boolean,.token.function,.token.number{color:#f08d49}.token.property{color:#f8c555}.token.builtin,.token.keyword{color:#cc99cd}.token.string{color:#7ec699}.token.operator,.token.url{color:#67cdcc}.token.inserted{color:green}.about,.tags{min-height:80vh}.about h1{padding-bottom:1em}article h1{text-shadow:0 0 7px #fff,0 0 42px var(--heading-text-shadow)}.about h1,.tags h1,article h1,h3{font-family:CyberwayRiders}.tags h1,article h1{padding-bottom:1em;text-align:center}h3{text-shadow:0 0 7px #fff,0 0 42px var(--heading-text-shadow)}@media (min-width:600px){.about,.tags{min-height:calc(100vh - 360px)}}.post{margin-bottom:30px}.post .title{font-weight:700;color:var(--primary)}.post .description{margin-top:5px;color:var(--text-color)}</style><header><nav><div id=nav><h1><a href=/ title=Homepage>The Fortune Days</a></h1><a href=/tags/ >Tags</a> <a href=/about/ >About</a></div><div id=reading-progress aria-hidden=true></div></nav><dialog id=message></dialog></header><main><article><h1>Cancellable Functions</h1><p><strong>Summary</strong>: A combination of channel and Context is a very powerful tool for cancellable functions.<p>There are multiple use cases that we might want to create a cancellable function, especially when developing concurrent programs. We might perform some tasks and if they take too long to complete, we just go ahead to cancel them. Or we might want to cancel them based on other conditions. This post is about common ways to create cancellable functions in Go.<p>Let's start with a simple use case where we want to abort a function if it takes too long to complete.<h3 id=timeout-functions>Timeout Functions <a href=#timeout-functions class=direct-link>#</a></h3><p>Let's assume that we have a function <code>func f()</code> and we want to limit the execution time of <code>f</code> within duration <code>d</code>. This kind of function will stop when either <code>f</code> finishes its operation or <code>d</code> timeout is reached. This reminds us of the <code>select</code> statement in Go, which can listen on multiple channels at the same time.<p>To solve the above problem, we can use <code>select</code> in combination with <code>channel</code> and a <code>timer</code> like below:<pre class=language-go><code class=language-go><span class="token keyword">func</span> <span class="token function">Do</span><span class="token punctuation">(</span>d time<span class="token punctuation">.</span>Duration<span class="token punctuation">,</span> f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br>	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		<span class="token keyword">defer</span> <span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><br>		<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>	t <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">NewTimer</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><br>	<span class="token keyword">defer</span> t<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>	<span class="token keyword">select</span> <span class="token punctuation">{</span><br>	<span class="token keyword">case</span> <span class="token operator">&lt;-</span>c<span class="token punctuation">:</span><br>		<span class="token keyword">return</span><br>	<span class="token keyword">case</span> <span class="token operator">&lt;-</span>t<span class="token punctuation">.</span>C<span class="token punctuation">:</span><br>		<span class="token keyword">return</span><br>	<span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p><a href=https://go.dev/play/p/cotxw8lnpRX>Playground</a><p>The above solution is good, but what if you want to cancel the function not only by timeout but also for other reasons, such as on shutdown or when its caller aborts the mission? We need a more powerful tool for this, and I believe nothing is more suitable than <code>context.Context</code>.<h3 id=cancellable-context>Cancellable Context <a href=#cancellable-context class=direct-link>#</a></h3><p>Context was designed for carrying contextual values during function executions but I feel it's more for cancellation. Context provides multiple ways for sending cancellation signals to multiple levels of functions calls either by timeout or on-demand:<pre class=language-go><code class=language-go><span class="token comment">// cancellation signal is sent when cancel() is called.</span><br>ctx<span class="token punctuation">,</span> cancel <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">WithCancel</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token keyword">defer</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><span class="token comment">// cancellation signal is sent when the timeout is reached.</span><br>ctx<span class="token punctuation">,</span> cancel <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">WithTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><br><span class="token keyword">defer</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><span class="token comment">// cancellation signal is sent when the deadline is reached.</span><br>ctx<span class="token punctuation">,</span> cancel <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">WithDeadline</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>time<span class="token punctuation">.</span>Minute<span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token keyword">defer</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><span class="token comment">// disable cancellation if any in parent context.</span><br>ctx <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">WithoutCancel</span><span class="token punctuation">(</span>parentContext<span class="token punctuation">)</span></code></pre><p>The same version of the above function can be done with Context as below:<pre class=language-go><code class=language-go><span class="token keyword">func</span> <span class="token function">Do</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br>	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		<span class="token keyword">defer</span> <span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><br>		<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>	<span class="token keyword">select</span> <span class="token punctuation">{</span><br>	<span class="token keyword">case</span> <span class="token operator">&lt;-</span>c<span class="token punctuation">:</span><br>		<span class="token keyword">return</span><br>	<span class="token keyword">case</span> <span class="token operator">&lt;-</span>ctx<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>		<span class="token keyword">return</span><br>	<span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>And here is how you use it:<pre class=language-go><code class=language-go><span class="token comment">// Cancel on demand</span><br>ctx<span class="token punctuation">,</span> cancel <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">WithCancel</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token keyword">defer</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token function">Do</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/*do something*/</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><br><br><span class="token comment">// Cancel when timeout is reached.</span><br>ctx<span class="token punctuation">,</span> cancel <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">WithTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">*</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><br><span class="token keyword">defer</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token function">Do</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/*do something*/</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><br><br><span class="token comment">// Don't want to cancel it at all</span><br>ctx <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">WithoutCancel</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token function">Do</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/*do something*/</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><a href=https://go.dev/play/p/KigLcJd1t0b>Playground</a><h3 id=generics>Generics <a href=#generics class=direct-link>#</a></h3><p>If the function has return values, a similar thing can be done by changing the channel value, and if it's timeout, we want to return error to indicate that the function was failed because of timeout. In this case we can use it with context.Cause as below:<pre class=language-go><code class=language-go><span class="token keyword">func</span> Do<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>T<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>t T<span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token keyword">type</span> v <span class="token keyword">struct</span> <span class="token punctuation">{</span><br>		t T<br>		e <span class="token builtin">error</span><br>	<span class="token punctuation">}</span><br>	c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> v<span class="token punctuation">)</span><br>	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		<span class="token keyword">defer</span> <span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><br>		t<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>		c <span class="token operator">&lt;-</span> v<span class="token punctuation">{</span>t<span class="token punctuation">:</span> t<span class="token punctuation">,</span> e<span class="token punctuation">:</span> err<span class="token punctuation">}</span><br>	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>	<span class="token keyword">select</span> <span class="token punctuation">{</span><br>	<span class="token keyword">case</span> v <span class="token operator">:=</span> <span class="token operator">&lt;-</span>c<span class="token punctuation">:</span><br>		<span class="token keyword">return</span> v<span class="token punctuation">.</span>t<span class="token punctuation">,</span> v<span class="token punctuation">.</span>e<br>	<span class="token keyword">case</span> <span class="token operator">&lt;-</span>ctx<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>		<span class="token keyword">return</span> t<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">Cause</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><br>	<span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>With this generic version of the function, we can use it with many different functions with different return types:<pre class=language-go><code class=language-go><span class="token function">Do</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">nil</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token function">Do</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">nil</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token function">Do</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token boolean">nil</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><a href=https://go.dev/play/p/1uBsPg_PqGe>Playground</a><h3 id=conclusion>Conclusion <a href=#conclusion class=direct-link>#</a></h3><p>With just a simple combination of channel and context, but we could make a very powerful tool for cancellable functions. You can based on the above suggestion implementations to make your own versions. And I believe that you will find that it's even more powerful than what I have shown you so far.</p><share-widget><button aria-label=Share href=https://thefortunedays.com/articles/go-cancellable-functions/ on-click=share><div></div></button></share-widget><script type=application/ld+json>{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Cancellable Functions",
  "image": [],
  "author": "Thanh", 
  "genre": "Blog", 
  "publisher": {
    "@type": "Organization",
    "name": "Thanh",
    "logo": {
      "@type": "ImageObject",
      "url": "/img/favicon/favicon-192x192.png?hash=735479e2c4"
    }
  },
  "url": "https://thefortunedays.com/articles/go-cancellable-functions/",
  "mainEntityOfPage": "https://thefortunedays.com/articles/go-cancellable-functions/",
  "datePublished": "2023-10-01",
  "dateModified": "2024-09-24",
  "description": "Summary: A combination of channel and Context is a very powerful tool for cancellable functions. There are multiple use cases that we might..."
}</script></article></main><footer><a href=/about/ >Thanh</a></footer>